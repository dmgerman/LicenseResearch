/*********************************************************************************************Lutefisk is software for de novo sequencing of peptides from tandem mass spectra.Copyright (C) 1995  Richard S. JohnsonThis program is free software; you can redistribute it and/ormodify it under the terms of the GNU General Public Licenseas published by the Free Software Foundation; either version 2of the License, or (at your option) any later version.This program is distributed in the hope that it will be useful,but WITHOUT ANY WARRANTY; without even the implied warranty ofMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See theGNU General Public License for more details.You should have received a copy of the GNU General Public Licensealong with this program; if not, write to the Free SoftwareFoundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.Contact:Richard S Johnson4650 Forest Ave SEMercer Island, WA 98040jsrichar@alum.mit.edu*********************************************************************************************/#include <stdio.h>#include "getopt.h"/*LINTLIBRARY*/#ifndef NULL#define NULL	0#endifextern short strcmp();extern char *strchr();short	opterr = 1;short	optind = 1;short	optopt;char	*optarg;int getopt(int argc, char **argv, char *opts){	static short sp = 1;	register short c;	register char *cp;	if(sp == 1)		if(optind >= argc ||		   argv[optind][0] != '-' || argv[optind][1] == '\0')			return(EOF);		else if(strcmp(argv[optind], "--") == NULL) {			optind++;			return(EOF);		}	optopt = c = argv[optind][sp];	if(c == ':' || (cp=strchr(opts, c)) == NULL) {	    fprintf(stderr,"illegal command-line option: %c\n",c);		if(argv[optind][++sp] == '\0') {			optind++;			sp = 1;		}		return('?');	}	if(*++cp == ':') {		if(argv[optind][sp+1] != '\0')			optarg = &argv[optind++][sp+1];		else if(++optind >= argc) {		    fprintf(stderr,"command-line option %c requires an argument\n",c);			sp = 1;			return('?');		} else			optarg = argv[optind++];		sp = 1;	} else {		if(argv[optind][++sp] == '\0') {			sp = 1;			optind++;		}		optarg = NULL;	}	return(c);}